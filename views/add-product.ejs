<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link href="/css/style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="container-fluid">
      <%- include('header.ejs') %>
      <div class="row mb-4">
        <form
          action="/save-product"
          class="form-horizontal"
          role="form"
          method="post"
          enctype="multipart/form-data"
        >
          <div class="row pt-4">
            <div class="col-4">
              <img
                id="product_image_src"
                src="https://t4.ftcdn.net/jpg/04/81/13/43/360_F_481134373_0W4kg2yKeBRHNEklk4F9UXtGHdub3tYk.jpg"
                style="width: 330px; border: 1px solid; cursor: pointer"
                onclick="document.getElementById('product_image').click()"
              />
              <input
                type="file"
                name="product_image"
                id="product_image"
                onchange="showimage()"
              />
            </div>
            <div class="col-8">
              <section class="panel panel-default">
                <div class="panel-heading">
                  <h3 class="panel-title">Add Product</h3>
                </div>
                <div class="panel-body">
                  <div class="form-group mb-2">
                    <label for="name" class="col-sm-3 control-label"
                      >Category</label
                    >
                    <div class="col-sm-9">
                      <select name="category_id" class="form-control">
                        <option value="">Select Category</option>
                        <% for(var i = 0; i < categories.length; i++){ %>
                        <option value="<%= categories[i].id %>">
                          <%= categories[i].category_name %>
                        </option>
                        <% } %>
                      </select>
                    </div>
                  </div>

                  <div class="form-group mb-2">
                    <label for="name" class="col-sm-3 control-label"
                      >Title</label
                    >
                    <div class="col-sm-9">
                      <input
                        type="text"
                        class="form-control"
                        name="product_name"
                        id="name"
                        placeholder="Enter product title "
                      />
                    </div>
                  </div>

                  <!-- form-group // -->
                  <div class="form-group mb-2">
                    <label for="about" class="col-sm-3 control-label"
                      >Description</label
                    >
                    <div class="col-sm-9">
                      <textarea
                        name="product_description"
                        class="form-control"
                        placeholder="Enter product description"
                      ></textarea>
                    </div>
                  </div>

                  <!-- form-group // -->
                  <div class="form-group mb-2">
                    <label for="about" class="col-sm-3 control-label"
                      >Price</label
                    >
                    <div class="col-sm-9">
                      <input
                        type="number"
                        name="price"
                        class="form-control"
                        placeholder="Enter product price"
                      />
                    </div>
                  </div>

                  <div class="form-group mb-2">
                    <label for="about" class="col-sm-3 control-label"
                      >Discount</label
                    >
                    <div class="col-sm-9">
                      <input
                        type="number"
                        name="discount"
                        class="form-control"
                        placeholder="Enter product price"
                      />
                    </div>
                  </div>

                  <!-- form-group // -->
                  <div class="form-group mb-2">
                    <label for="about" class="col-sm-3 control-label"
                      >Tags</label
                    >
                    <div class="col-sm-9">
                      <textarea
                        name="tags"
                        class="form-control"
                        placeholder="Enter comma separated tags"
                      ></textarea>
                    </div>
                  </div>

                  <div class="form-group mb3">
                    <input type="submit" />
                  </div>
                  <!-- form-group // -->
                </div>
                <!-- panel-body // -->
              </section>
            </div>
          </div>
          <!-- panel// -->
        </form>
      </div>
      <%- include('footer.ejs') %>
    </div>
    <!-- container// -->
    <script>
      function showimage() {
        console.log(document.getElementById("product_image").files[0]);

        console.log(
          URL.createObjectURL(document.getElementById("product_image").files[0])
        );

        document.getElementById("product_image_src").src = URL.createObjectURL(
          document.getElementById("product_image").files[0]
        );
        console.log(
          URL.createObjectURL(document.getElementById("product_image").files[0])
        );
      }
    </script>
  </body>
</html>
